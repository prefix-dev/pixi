version: 6
environments:
  default:
    channels:
      - url: https://conda.anaconda.org/conda-forge/
    packages:
      win-64:
        - conda: foobar
        - conda: child-package
packages:
  - conda: child-package
    name: child-package
    version: 0.0.1
    build: ""
    subdir: noarch
    depends:
      - foobar 0.2.0 baz
    # This should cause the lock-file to be invalid because the package `foobar`
    # has a different version.
    variants:
      target_platform: noarch
    sources:
      foobar:
        path: "../foobar"
  - conda: foobar
    name: foobar
    version: 0.0.1
    build: baz
    subdir: noarch
    variants:
      target_platform: noarch

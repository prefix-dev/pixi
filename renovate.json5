{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended", ":maintainLockFilesMonthly"],
  "schedule": ["on tuesday"],
  "enabledManagers": ["github-actions", "pixi", "cargo"],
  "commitMessagePrefix": "chore(ci):",
  "ignorePaths": ["**/examples/**", "**/docs/**", "**/tests/**"],
  "labels": ["dependencies"],
  "packageRules": [
    {
      "groupName": "GitHub Actions",
      "matchManagers": ["github-actions"]
    },
    {
      "description": "We run multiple macOS runner versions on purpose since 13 runs on x86_64",
      "matchPackageNames": "macos",
      "matchManagers": ["github-actions"],
      "enabled": false
    },
    {
      "groupName": "Pixi",
      "matchManagers": ["pixi"]
    },
    {
      "groupName": "Pixi-Lock",
      "matchManagers": ["pixi"],
      "matchUpdateTypes": ["lockFileMaintenance"]
    },
    {
      "description": "We want to update Rust manually and keep it in sync with rust-toolchain",
      "matchPackageNames": ["rust"],
      "matchManagers": ["pixi"],
      "enabled": false
    },
    {
      "groupName": "Cargo lockfile maintenance",
      "matchManagers": ["cargo"],
      "matchUpdateTypes": ["lockFileMaintenance"]
      "enabled": false, # Disable because we use batch patch updates.
    },
    {
      "groupName": "Cargo patch updates",
      "matchManagers": ["cargo"],
      "matchUpdateTypes": ["patch"]
    },
    {
      "description": "We want a separate PR for all rattler crates",
      "matchPackageNames": ["rattler*", "file_url", "coalesced_map", "path_resolver", "simple_spawn_blocking"],
      "matchManagers": ["cargo"],
      "groupName": "rattler",
      "addLabels": ["rattler"]
    },
    {
      "description": "Update uv crates together",
      "matchPackageNames": ["uv*", "reqwest-middleware", "reqwest-retry"],
      "matchManagers": ["cargo"],
      "groupName": "uv",
      "addLabels": ["uv"]
    }
  ]
}

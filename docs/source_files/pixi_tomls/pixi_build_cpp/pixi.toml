[workspace]
channels = ["https://prefix.dev/conda-forge"]
name = "python_bindings"
platforms = ["osx-arm64"]
preview = ["pixi-build"]                      # (1)!

[dependencies] # (2)!
python_bindings = { path = "." }

[feature.test.dependencies] # (3)!
python = ">=3.12, <3.13"

[feature.test.tasks]
test = "python -c 'import python_bindings as b; print(b.add(1, 2))'"

[package] # (4)!
version = "0.1.0"

[build-system]
build-backend = { name = "pixi-build-cmake", version = "*" } # (5)!
channels = [
  "https://prefix.dev/pixi-build-backends",
  "https://prefix.dev/conda-forge",
]

[host-dependencies]
cmake = ">=3.18, <3.27"      # (8)!
nanobind = ">=2.4.0, <2.5.0" # (6)!
python = ">=3.12, <3.13"     # (7)!

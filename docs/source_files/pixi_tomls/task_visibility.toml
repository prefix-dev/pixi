[workspace]
channels = ["conda-forge"]
name = "task-visibility"

# --8<-- [start:project_tasks]
# Hidden ask with required arguments that is only intended to be used by other tasks
[tasks._git-clone]
args = ["url"]
cmd = "echo git clone {{ url }}"

# Hidden task that clones a dependency
[tasks._clone-subproject]
depends-on = [
    { cmd = "_git-clone", args = [
        "https://git.hub/org/subproject.git",
    ] },
]

# Hidden task that builds a dependency
[tasks._build-subproject]
cmd = "echo Building subproject"
depends-on = ["_clone-subproject"]

# Task to build the project which depends on cloning and building a dependency
[tasks.build]
cmd = "echo Building project"
depends-on = ["_build-subproject"]

# --8<-- [end:project_tasks]

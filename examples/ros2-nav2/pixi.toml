[project]
authors = ["Ruben Arts <ruben@prefix.dev>"]
channels = ["https://prefix.dev/conda-forge"]
name = "ros2-nav2"
platforms = ["linux-64", "osx-arm64", "osx-64", "win-64"]

[activation.env]
TURTLEBOT3_MODEL = "waffle"

[target.unix.activation.env]
GAZEBO_MODEL_PATH = "$GAZEBO_MODEL_PATH:$CONDA_PREFIX/share/turtlebot3_gazebo/models"
[target.win.activation.env]
GAZEBO_MODEL_PATH = "%GAZEBO_MODEL_PATH%:%CONDA_PREFIX%/share/turtlebot3_gazebo/models"

[tasks]
start = "ros2 launch nav2_bringup tb3_simulation_launch.py headless:=False"

[feature.humble]
channels = ["https://prefix.dev/robostack-humble"]

[feature.humble.dependencies]
ros-humble-desktop = "*"
ros-humble-nav2-bringup = "*"
ros-humble-turtlebot3-gazebo = "*"

[feature.jazzy]
channels = ["https://prefix.dev/robostack-jazzy"]

[feature.jazzy.dependencies]
ros-jazzy-desktop = "*"
ros-jazzy-nav2-bringup = "*"
ros-jazzy-turtlebot3-gazebo = "*"

[feature.jazzy.activation.env]
# Required for the RVIZ2 to properly startup on osx
RMW_IMPLEMENTATION = "rmw_cyclonedds_cpp"

[environments]
default = { features = ["humble"] }
jazzy = { features = ["jazzy"] }

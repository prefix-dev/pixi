[workspace]
channels = ["https://prefix.dev/conda-forge"]
platforms = ["win-64", "linux-64", "osx-64", "osx-arm64"]
preview = ["pixi-build"]

[workspace.build-variants]
sdl2 = ["2.26.5", "2.32.*"]
# boltons = ["25.0.0", "24.0.0"]


[feature.sdl2-26.dependencies]
sdl2 = "2.26.5"

[feature.sdl2-32.dependencies]
sdl2 = "2.32.*"

[environments]
sdl2-26 = { features = ["sdl2-26"] }
sdl2-32 = { features = ["sdl2-32"] }

[dependencies]
# Define a dependency on ourselves. This will invoke the build backend to build
# the C++ code and install the executable in an environment ready to be used.
sdl_example = { path = "." }

[tasks.start]
cmd = "sdl_example"
description = "A tasks to run the executable that is build by the package section."

[tasks]
test = "sdl_example -h"

[package]
authors = ["Bas Zalmstra <bas@prefix.dev>"]
description = "Showcases how to create a simple C++ executable with Pixi"
name = "sdl_example"
version = "0.1.0"

[package.build.backend]
channels = [
  "https://prefix.dev/pixi-build-backends",
  "https://prefix.dev/conda-forge",
]
name = "pixi-build-cmake"
version = "0.3.*"


[package.host-dependencies]
# This ensures that SDL2 is available at build time.
# sdl2 = ">=2.26.5,<3.0"
sdl2 = "*"


[package.run-dependencies]
# This ensures that SDL2 is available at runtime.
sdl2 = "*"
